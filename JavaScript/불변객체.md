# 불변 객체

## mutable object와 immutable object에 관해 설명해주세요.

mutable 객체는 상태를 변경할 수 있는 객체이고, immutable 객체는 상태를 변경할 수 없는 객체입니다.

**불변 객체 immutable object**

- 객체를 변경 불가능한 값으로 동작하게 만든다.
- 객체의 상태 변경을 원천봉쇄한다.
- 객체의 상태 변경이 필요한 경우 : 객체의 방어적 복사defensive copy를 통해 원본 객체를 완전히 복제해 새로운 객체를 생성하고 재할당한다.
  ⇒ [깊은 복사 Deep copy](https://www.notion.so/11-90353f5371eb4e478f0c62583d8cc0cc)
- 객체의 복사본을 새롭게 생성하는 비용이 든다.

## 자신의 코드에서 불변성(immutability를) 어떻게 달성할 수 있나요?

불변성을 유지하려면 불변 객체를 만들 수 있습니다.

불변 객체를 만드는 방법 3가지 정도 예시를 들자면, 첫째로~

`Object.assign` 메서드를 이용해 타겟 객체의 프로퍼티를 복사하는 방법이 있습니다. (방어적 복사) 이 메서드는 완전한 deep copy를 지원하지 않습니다. 중첩 객체가 있다면 중첩객체의 값은 변경 가능하므로 완전하지 못합니다.

`Object.freeze` 를 사용해 불변 객체를 만들 수도 있다. 하지만 객체 내부의 객체는 변경이 가능하므로 내부 객체까지 변경 불가능하게 만드려면 Deep freeze 해야 합니다.

앞서 말한 두가지는 번거롭고 성능상 이슈가 있어서 큰 객체에는 사용하지 않습니다. Immutable.js라는 영구 불변하는 데이터 구조를 제공하는 라이브러리를 사용해 불변 객체를 구현할 수도 있습니다.

immer.js : 스프레드 문법 사용할때 가독성 더 좋게 만들어주는 라이브러리
